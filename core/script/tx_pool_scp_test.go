package script

import (
	"math/big"
	"testing"

	"github.com/ethereum/go-ethereum/common"
	"github.com/ethereum/go-ethereum/core/types"
)

func TestDOTxScriptBuy(t *testing.T) {

	data := `0x38ed173900000000000000000000000000000000000000000000000d71b0fe0a28e00000000000000000000000000000000000000000000000000311f9ce90a20080a21b00000000000000000000000000000000000000000000000000000000000002a0000000000000000000000000bee95fd1c50099a8fff5204efd53c77900ab5052ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000000000000000000000000000000000000000000020000000000000000000000008e81fcc2d4a3baa0ee9044e0d7e36f59c9bba9c1000000000000000000000000770d9d14c4ae2f78dca810958c1d9b7ea4620289`
	amount, _ := new(big.Int).SetString("20000749999999997500000", 10)
	tx := types.NewTransaction(1, common.HexToAddress("0x8E81fCc2d4A3bAa0eE9044E0D7E36F59C9BbA9c1"), amount, 12345, new(big.Int), []byte(data))
	DOTxScript(tx, nil)
}

func TestDOTxScriptSolt(t *testing.T) {

	data := `0x38ed17390000000000000000000000000000000000000000000001126f05b59d3b200000000000000000000000000000000000000000000000000001527399234a9311be00000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000e8db41c5e9ef0f09a1e65f8dc8e9fef1879250a9ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000770d9d14c4ae2f78dca810958c1d9b7ea46202890000000000000000000000008e81fcc2d4a3baa0ee9044e0d7e36f59c9bba9c1`
	amount, _ := new(big.Int).SetString("20000749999999997500000", 10)
	tx := types.NewTransaction(1, common.HexToAddress("0x8E81fCc2d4A3bAa0eE9044E0D7E36F59C9BbA9c1"), amount, 12345, new(big.Int), []byte(data))
	DOTxScript(tx, nil)
}
